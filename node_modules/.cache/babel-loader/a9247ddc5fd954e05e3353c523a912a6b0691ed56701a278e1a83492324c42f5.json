{"ast":null,"code":"\"use client\";\n\nimport _slicedToArray from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _classCallCheck from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/josephxu/Desktop/ps_test/personal-site/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar _excluded = [\"style\"],\n  _excluded2 = [\"src\", \"alt\", \"srcSet\", \"sizes\", \"style\"],\n  _excluded3 = [\"style\"],\n  _excluded4 = [\"style\"],\n  _excluded5 = [\"layoutOptions\", \"renderColumnContainer\", \"children\", \"columnContainerProps\"],\n  _excluded6 = [\"style\"];\nimport * as React from \"react\";\nfunction ratio(_ref) {\n  var width = _ref.width,\n    height = _ref.height;\n  return width / height;\n}\nfunction round(value) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var factor = Math.pow(10, decimals);\n  return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction rankingFunctionComparator(rank) {\n  return function (a, b) {\n    return rank(b) - rank(a);\n  };\n}\nvar MinHeap = /*#__PURE__*/function () {\n  function MinHeap(comparator) {\n    _classCallCheck(this, MinHeap);\n    this.comparator = comparator;\n    this.heap = [];\n    this.n = 0;\n  }\n  _createClass(MinHeap, [{\n    key: \"greater\",\n    value: function greater(i, j) {\n      return this.comparator(this.heap[i], this.heap[j]) < 0;\n    }\n  }, {\n    key: \"swap\",\n    value: function swap(i, j) {\n      var temp = this.heap[i];\n      this.heap[i] = this.heap[j];\n      this.heap[j] = temp;\n    }\n  }, {\n    key: \"swim\",\n    value: function swim(i) {\n      var k = i;\n      var k2 = Math.floor(k / 2);\n      while (k > 1 && this.greater(k2, k)) {\n        this.swap(k2, k);\n        k = k2;\n        k2 = Math.floor(k / 2);\n      }\n    }\n  }, {\n    key: \"sink\",\n    value: function sink(i) {\n      var k = i;\n      var k2 = k * 2;\n      while (k2 <= this.n) {\n        if (k2 < this.n && this.greater(k2, k2 + 1)) k2 += 1;\n        if (!this.greater(k, k2)) break;\n        this.swap(k, k2);\n        k = k2;\n        k2 = k * 2;\n      }\n    }\n  }, {\n    key: \"push\",\n    value: function push(element) {\n      this.n += 1;\n      this.heap[this.n] = element;\n      this.swim(this.n);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      if (this.n === 0) return void 0;\n      this.swap(1, this.n);\n      this.n -= 1;\n      var max = this.heap.pop();\n      this.sink(1);\n      return max;\n    }\n  }, {\n    key: \"size\",\n    value: function size() {\n      return this.n;\n    }\n  }]);\n  return MinHeap;\n}();\nfunction buildPrecedentsMap(graph, startNode, endNode) {\n  var precedentsMap = /* @__PURE__ */new Map();\n  var visited = /* @__PURE__ */new Set();\n  var storedShortestPaths = /* @__PURE__ */new Map();\n  storedShortestPaths.set(startNode, 0);\n  var queue = new MinHeap(rankingFunctionComparator(function (el) {\n    return el.weight;\n  }));\n  queue.push({\n    id: startNode,\n    weight: 0\n  });\n  var _loop = function _loop() {\n    var _queue$pop = queue.pop(),\n      id = _queue$pop.id,\n      weight = _queue$pop.weight;\n    if (!visited.has(id)) {\n      var neighboringNodes = graph(id);\n      visited.add(id);\n      neighboringNodes.forEach(function (neighborWeight, neighbor) {\n        var newWeight = weight + neighborWeight;\n        var currentId = precedentsMap.get(neighbor);\n        var currentWeight = storedShortestPaths.get(neighbor);\n        if (currentWeight === void 0 || currentWeight > newWeight && (currentWeight / newWeight > 1.005 || currentId !== void 0 && currentId < id)) {\n          storedShortestPaths.set(neighbor, newWeight);\n          queue.push({\n            id: neighbor,\n            weight: newWeight\n          });\n          precedentsMap.set(neighbor, id);\n        }\n      });\n    }\n  };\n  while (queue.size() > 0) {\n    _loop();\n  }\n  return storedShortestPaths.has(endNode) ? precedentsMap : void 0;\n}\nfunction getPathFromPrecedentsMap(precedentsMap, endNode) {\n  var nodes = [];\n  for (var node = endNode; node !== void 0; node = precedentsMap.get(node)) {\n    nodes.push(node);\n  }\n  return nodes.reverse();\n}\nfunction findShortestPath(graph, startNode, endNode) {\n  var precedentsMap = buildPrecedentsMap(graph, startNode, endNode);\n  return precedentsMap ? getPathFromPrecedentsMap(precedentsMap, endNode) : void 0;\n}\nfunction findIdealNodeSearch(_ref2) {\n  var photos = _ref2.photos,\n    targetRowHeight = _ref2.targetRowHeight,\n    containerWidth = _ref2.containerWidth;\n  var minRatio = photos.reduce(function (acc, photo) {\n    return Math.min(ratio(photo), acc);\n  }, Number.MAX_VALUE);\n  return round(containerWidth / targetRowHeight / minRatio) + 2;\n}\nfunction getCommonHeight(row, containerWidth, spacing, padding) {\n  var rowWidth = containerWidth - (row.length - 1) * spacing - 2 * padding * row.length;\n  var totalAspectRatio = row.reduce(function (acc, photo) {\n    return acc + ratio(photo);\n  }, 0);\n  return rowWidth / totalAspectRatio;\n}\nfunction cost(photos, i, j, width, targetRowHeight, spacing, padding) {\n  var row = photos.slice(i, j);\n  var commonHeight = getCommonHeight(row, width, spacing, padding);\n  return commonHeight > 0 ? Math.pow(commonHeight - targetRowHeight, 2) * row.length : void 0;\n}\nfunction makeGetRowNeighbors(_ref3) {\n  var photos = _ref3.photos,\n    layoutOptions = _ref3.layoutOptions,\n    targetRowHeight = _ref3.targetRowHeight,\n    limitNodeSearch = _ref3.limitNodeSearch,\n    rowConstraints = _ref3.rowConstraints;\n  return function (node) {\n    var _a, _b;\n    var containerWidth = layoutOptions.containerWidth,\n      spacing = layoutOptions.spacing,\n      padding = layoutOptions.padding;\n    var results = /* @__PURE__ */new Map();\n    results.set(node, 0);\n    var startOffset = (_a = rowConstraints == null ? void 0 : rowConstraints.minPhotos) != null ? _a : 1;\n    var endOffset = Math.min(limitNodeSearch, (_b = rowConstraints == null ? void 0 : rowConstraints.maxPhotos) != null ? _b : Infinity);\n    for (var i = node + startOffset; i < photos.length + 1; i += 1) {\n      if (i - node > endOffset) break;\n      var currentCost = cost(photos, node, i, containerWidth, targetRowHeight, spacing, padding);\n      if (currentCost === void 0) break;\n      results.set(i, currentCost);\n    }\n    return results;\n  };\n}\nfunction computeRowsLayout(_ref4) {\n  var photos = _ref4.photos,\n    layoutOptions = _ref4.layoutOptions;\n  var spacing = layoutOptions.spacing,\n    padding = layoutOptions.padding,\n    containerWidth = layoutOptions.containerWidth,\n    targetRowHeight = layoutOptions.targetRowHeight,\n    rowConstraints = layoutOptions.rowConstraints;\n  var limitNodeSearch = findIdealNodeSearch({\n    photos: photos,\n    containerWidth: containerWidth,\n    targetRowHeight: targetRowHeight\n  });\n  var getNeighbors = makeGetRowNeighbors({\n    photos: photos,\n    layoutOptions: layoutOptions,\n    targetRowHeight: targetRowHeight,\n    limitNodeSearch: limitNodeSearch,\n    rowConstraints: rowConstraints\n  });\n  var path = findShortestPath(getNeighbors, 0, photos.length);\n  if (path === void 0) return void 0;\n  var layout = [];\n  var _loop2 = function _loop2(i) {\n    var row = photos.map(function (photo, index) {\n      return {\n        photo: photo,\n        index: index\n      };\n    }).slice(path[i - 1], path[i]);\n    var height = getCommonHeight(row.map(function (_ref5) {\n      var photo = _ref5.photo;\n      return photo;\n    }), containerWidth, spacing, padding);\n    layout.push(row.map(function (_ref6, photoIndex) {\n      var photo = _ref6.photo,\n        index = _ref6.index;\n      return {\n        photo: photo,\n        layout: {\n          height: height,\n          width: height * ratio(photo),\n          index: index,\n          photoIndex: photoIndex,\n          photosCount: row.length\n        }\n      };\n    }));\n  };\n  for (var i = 1; i < path.length; i += 1) {\n    _loop2(i);\n  }\n  return layout;\n}\nfunction calcWidth(base, _ref7, _ref8) {\n  var width = _ref7.width,\n    photosCount = _ref7.photosCount;\n  var spacing = _ref8.spacing,\n    padding = _ref8.padding,\n    containerWidth = _ref8.containerWidth;\n  var gaps = spacing * (photosCount - 1) + 2 * padding * photosCount;\n  return \"calc((\".concat(base, \" - \").concat(gaps, \"px) / \").concat(round((containerWidth - gaps) / width, 5), \")\");\n}\nfunction cssPhotoWidth(layout, layoutOptions) {\n  return layoutOptions.layout !== \"rows\" ? \"calc(100% - \".concat(2 * layoutOptions.padding, \"px)\") : calcWidth(\"100%\", layout, layoutOptions);\n}\nfunction calculateSizesValue(size, layout, layoutOptions) {\n  var _a, _b;\n  return calcWidth((_b = (_a = size.match(/calc\\((.*)\\)/)) == null ? void 0 : _a[1]) != null ? _b : size, layout, layoutOptions);\n}\nfunction srcSetAndSizes(photo, layout, layoutOptions) {\n  var srcSet;\n  var sizes;\n  var images = photo.srcSet || photo.images;\n  if (images && images.length > 0) {\n    srcSet = images.concat(!images.find(function (_ref9) {\n      var width = _ref9.width;\n      return width === photo.width;\n    }) ? [{\n      src: photo.src,\n      width: photo.width,\n      height: photo.height\n    }] : []).sort(function (first, second) {\n      return first.width - second.width;\n    }).map(function (image) {\n      return \"\".concat(image.src, \" \").concat(image.width, \"w\");\n    }).join(\", \");\n  }\n  if (layoutOptions.sizes) {\n    sizes = (layoutOptions.sizes.sizes || []).map(function (_ref10) {\n      var viewport = _ref10.viewport,\n        size = _ref10.size;\n      return \"\".concat(viewport, \" \").concat(calculateSizesValue(size, layout, layoutOptions));\n    }).concat(calculateSizesValue(layoutOptions.sizes.size, layout, layoutOptions)).join(\", \");\n  } else if (srcSet) {\n    sizes = \"\".concat(Math.ceil(layout.width / layoutOptions.containerWidth * 100), \"vw\");\n  }\n  return {\n    srcSet: srcSet,\n    sizes: sizes\n  };\n}\nfunction PhotoRenderer(props) {\n  var _a, _b;\n  var photo = props.photo,\n    layout = props.layout,\n    layoutOptions = props.layoutOptions,\n    _props$imageProps = props.imageProps;\n  _props$imageProps = _props$imageProps === void 0 ? {} : _props$imageProps;\n  var style = _props$imageProps.style,\n    restImageProps = _objectWithoutProperties(_props$imageProps, _excluded),\n    renderPhoto = props.renderPhoto;\n  var onClick = layoutOptions.onClick;\n  var imageStyle = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n    display: \"block\",\n    boxSizing: \"content-box\",\n    width: cssPhotoWidth(layout, layoutOptions),\n    height: \"auto\",\n    aspectRatio: \"\".concat(photo.width, \" / \").concat(photo.height)\n  }, layoutOptions.padding ? {\n    padding: \"\".concat(layoutOptions.padding, \"px\")\n  } : null), (layoutOptions.layout === \"columns\" || layoutOptions.layout === \"masonry\") && layout.photoIndex < layout.photosCount - 1 ? {\n    marginBottom: \"\".concat(layoutOptions.spacing, \"px\")\n  } : null), onClick ? {\n    cursor: \"pointer\"\n  } : null), style);\n  var handleClick = onClick ? function (event) {\n    onClick({\n      event: event,\n      photo: photo,\n      index: layout.index\n    });\n  } : void 0;\n  var imageProps = _objectSpread(_objectSpread({\n    src: photo.src,\n    alt: (_a = photo.alt) != null ? _a : \"\",\n    title: photo.title,\n    onClick: handleClick,\n    style: imageStyle,\n    className: \"react-photo-album--photo\",\n    loading: \"lazy\",\n    decoding: \"async\"\n  }, srcSetAndSizes(photo, layout, layoutOptions)), restImageProps);\n  var renderDefaultPhoto = function renderDefaultPhoto(options) {\n    var src = imageProps.src,\n      alt = imageProps.alt,\n      srcSet = imageProps.srcSet,\n      sizes = imageProps.sizes,\n      unwrappedStyle = imageProps.style,\n      rest = _objectWithoutProperties(imageProps, _excluded2);\n    return React.createElement(\"img\", _objectSpread(_objectSpread({\n      alt: alt\n    }, srcSet ? {\n      srcSet: srcSet,\n      sizes: sizes\n    } : null), {}, {\n      src: src,\n      style: (options == null ? void 0 : options.wrapped) ? {\n        display: \"block\",\n        width: \"100%\",\n        height: \"100%\"\n      } : unwrappedStyle\n    }, rest));\n  };\n  var wrapperStyle = function (_ref11) {\n    var display = _ref11.display,\n      boxSizing = _ref11.boxSizing,\n      width = _ref11.width,\n      aspectRatio = _ref11.aspectRatio,\n      padding = _ref11.padding,\n      marginBottom = _ref11.marginBottom,\n      cursor = _ref11.cursor;\n    return {\n      display: display,\n      boxSizing: boxSizing,\n      width: width,\n      aspectRatio: aspectRatio,\n      padding: padding,\n      marginBottom: marginBottom,\n      cursor: cursor\n    };\n  }(imageStyle);\n  return React.createElement(React.Fragment, null, (_b = renderPhoto == null ? void 0 : renderPhoto({\n    photo: photo,\n    layout: layout,\n    layoutOptions: layoutOptions,\n    imageProps: imageProps,\n    renderDefaultPhoto: renderDefaultPhoto,\n    wrapperStyle: wrapperStyle\n  })) != null ? _b : renderDefaultPhoto());\n}\nfunction defaultRenderRowContainer(_ref12) {\n  var rowContainerProps = _ref12.rowContainerProps,\n    children = _ref12.children;\n  return React.createElement(\"div\", _objectSpread({}, rowContainerProps), children);\n}\nfunction RowContainerRenderer(props) {\n  var layoutOptions = props.layoutOptions,\n    rowIndex = props.rowIndex,\n    rowsCount = props.rowsCount,\n    renderRowContainer = props.renderRowContainer,\n    _props$rowContainerPr = props.rowContainerProps;\n  _props$rowContainerPr = _props$rowContainerPr === void 0 ? {} : _props$rowContainerPr;\n  var style = _props$rowContainerPr.style,\n    restRowContainerProps = _objectWithoutProperties(_props$rowContainerPr, _excluded3),\n    children = props.children;\n  var rowContainerProps = _objectSpread({\n    className: \"react-photo-album--row\",\n    style: _objectSpread(_objectSpread({\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      justifyContent: \"space-between\"\n    }, rowIndex < rowsCount - 1 ? {\n      marginBottom: \"\".concat(layoutOptions.spacing, \"px\")\n    } : null), style)\n  }, restRowContainerProps);\n  return React.createElement(React.Fragment, null, (renderRowContainer != null ? renderRowContainer : defaultRenderRowContainer)({\n    layoutOptions: layoutOptions,\n    rowIndex: rowIndex,\n    rowsCount: rowsCount,\n    rowContainerProps: rowContainerProps,\n    children: children\n  }));\n}\nfunction RowsLayout(props) {\n  var photos = props.photos,\n    layoutOptions = props.layoutOptions,\n    renderPhoto = props.renderPhoto,\n    renderRowContainer = props.renderRowContainer,\n    componentsProps = props.componentsProps;\n  var rowsLayout = computeRowsLayout({\n    photos: photos,\n    layoutOptions: layoutOptions\n  });\n  if (!rowsLayout) return null;\n  return React.createElement(React.Fragment, null, rowsLayout.map(function (row, rowIndex) {\n    return React.createElement(RowContainerRenderer, {\n      key: \"row-\".concat(rowIndex),\n      layoutOptions: layoutOptions,\n      rowIndex: rowIndex,\n      rowsCount: rowsLayout.length,\n      renderRowContainer: renderRowContainer,\n      rowContainerProps: componentsProps == null ? void 0 : componentsProps.rowContainerProps\n    }, row.map(function (_ref13) {\n      var photo = _ref13.photo,\n        layout = _ref13.layout;\n      return React.createElement(PhotoRenderer, {\n        key: photo.key || photo.src,\n        photo: photo,\n        layout: layout,\n        layoutOptions: layoutOptions,\n        renderPhoto: renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      });\n    }));\n  }));\n}\nfunction computeShortestPath(graph, pathLength, startNode, endNode) {\n  var matrix = /* @__PURE__ */new Map();\n  var queue = /* @__PURE__ */new Set();\n  queue.add(startNode);\n  var _loop3 = function _loop3(length) {\n    var currentQueue = _toConsumableArray(queue.keys());\n    queue.clear();\n    currentQueue.forEach(function (node) {\n      var accumulatedWeight = length > 0 ? matrix.get(node)[length].weight : 0;\n      graph(node).forEach(function (_ref14) {\n        var neighbor = _ref14.neighbor,\n          weight = _ref14.weight;\n        var paths = matrix.get(neighbor);\n        if (!paths) {\n          paths = [];\n          matrix.set(neighbor, paths);\n        }\n        var newWeight = accumulatedWeight + weight;\n        var nextPath = paths[length + 1];\n        if (!nextPath || nextPath.weight > newWeight && (nextPath.weight / newWeight > 1.0001 || node < nextPath.node)) {\n          paths[length + 1] = {\n            node: node,\n            weight: newWeight\n          };\n        }\n        if (length < pathLength - 1 && neighbor !== endNode) {\n          queue.add(neighbor);\n        }\n      });\n    });\n  };\n  for (var length = 0; length < pathLength; length += 1) {\n    _loop3(length);\n  }\n  return matrix;\n}\nfunction reconstructShortestPath(matrix, pathLength, endNode) {\n  var path = [endNode];\n  for (var node = endNode, length = pathLength; length > 0; length -= 1) {\n    node = matrix.get(node)[length].node;\n    path.push(node);\n  }\n  return path.reverse();\n}\nfunction findShortestPathLengthN(graph, pathLength, startNode, endNode) {\n  return reconstructShortestPath(computeShortestPath(graph, pathLength, startNode, endNode), pathLength, endNode);\n}\nfunction makeGetColumnNeighbors(_ref15) {\n  var photos = _ref15.photos,\n    spacing = _ref15.spacing,\n    padding = _ref15.padding,\n    targetColumnWidth = _ref15.targetColumnWidth,\n    targetColumnHeight = _ref15.targetColumnHeight;\n  return function (node) {\n    var results = [];\n    var cutOffHeight = targetColumnHeight * 1.5;\n    var height = targetColumnWidth / ratio(photos[node]) + 2 * padding;\n    for (var i = node + 1; i < photos.length + 1; i += 1) {\n      results.push({\n        neighbor: i,\n        weight: Math.pow(targetColumnHeight - height, 2)\n      });\n      if (height > cutOffHeight || i === photos.length) {\n        break;\n      }\n      height += targetColumnWidth / ratio(photos[i]) + spacing + 2 * padding;\n    }\n    return results;\n  };\n}\nfunction buildColumnsModel(_ref16) {\n  var path = _ref16.path,\n    photos = _ref16.photos,\n    containerWidth = _ref16.containerWidth,\n    columnsGaps = _ref16.columnsGaps,\n    columnsRatios = _ref16.columnsRatios,\n    spacing = _ref16.spacing,\n    padding = _ref16.padding;\n  var columnsModel = [];\n  var totalRatio = columnsRatios.reduce(function (total, columnRatio) {\n    return total + columnRatio;\n  }, 0);\n  var _loop4 = function _loop4(i) {\n    var column = photos.map(function (photo, index) {\n      return {\n        photo: photo,\n        index: index\n      };\n    }).slice(path[i], path[i + 1]);\n    var totalAdjustedGaps = columnsRatios.reduce(function (total, columnRatio, index) {\n      return total + (columnsGaps[i] - columnsGaps[index]) * columnRatio;\n    }, 0);\n    var columnWidth = (containerWidth - (path.length - 2) * spacing - 2 * (path.length - 1) * padding - totalAdjustedGaps) * columnsRatios[i] / totalRatio;\n    columnsModel.push(column.map(function (_ref17, photoIndex) {\n      var photo = _ref17.photo,\n        index = _ref17.index;\n      return {\n        photo: photo,\n        layout: {\n          width: columnWidth,\n          height: columnWidth / ratio(photo),\n          index: index,\n          photoIndex: photoIndex,\n          photosCount: column.length\n        }\n      };\n    }));\n  };\n  for (var i = 0; i < path.length - 1; i += 1) {\n    _loop4(i);\n  }\n  return columnsModel;\n}\nfunction computeColumnsModel(_ref18) {\n  var photos = _ref18.photos,\n    layoutOptions = _ref18.layoutOptions,\n    targetColumnWidth = _ref18.targetColumnWidth;\n  var columns = layoutOptions.columns,\n    spacing = layoutOptions.spacing,\n    padding = layoutOptions.padding,\n    containerWidth = layoutOptions.containerWidth;\n  var columnsGaps = [];\n  var columnsRatios = [];\n  if (photos.length <= columns) {\n    var averageRatio = photos.length > 0 ? photos.reduce(function (acc, photo) {\n      return acc + ratio(photo);\n    }, 0) / photos.length : 1;\n    for (var i = 0; i < columns; i += 1) {\n      columnsGaps[i] = 2 * padding;\n      columnsRatios[i] = i < photos.length ? ratio(photos[i]) : averageRatio;\n    }\n    var columnsModel2 = buildColumnsModel({\n      path: Array.from({\n        length: columns + 1\n      }).map(function (_, index) {\n        return Math.min(index, photos.length);\n      }),\n      photos: photos,\n      columnsRatios: columnsRatios,\n      columnsGaps: columnsGaps,\n      containerWidth: containerWidth,\n      spacing: spacing,\n      padding: padding\n    });\n    return {\n      columnsGaps: columnsGaps,\n      columnsRatios: columnsRatios,\n      columnsModel: columnsModel2\n    };\n  }\n  var targetColumnHeight = (photos.reduce(function (acc, photo) {\n    return acc + targetColumnWidth / ratio(photo);\n  }, 0) + spacing * (photos.length - columns) + 2 * padding * photos.length) / columns;\n  var getNeighbors = makeGetColumnNeighbors({\n    photos: photos,\n    targetColumnWidth: targetColumnWidth,\n    targetColumnHeight: targetColumnHeight,\n    spacing: spacing,\n    padding: padding\n  });\n  var path = findShortestPathLengthN(getNeighbors, columns, 0, photos.length);\n  for (var _i = 0; _i < path.length - 1; _i += 1) {\n    var column = photos.slice(path[_i], path[_i + 1]);\n    columnsGaps[_i] = spacing * (column.length - 1) + 2 * padding * column.length;\n    columnsRatios[_i] = 1 / column.reduce(function (acc, photo) {\n      return acc + 1 / ratio(photo);\n    }, 0);\n  }\n  var columnsModel = buildColumnsModel({\n    path: path,\n    photos: photos,\n    columnsRatios: columnsRatios,\n    columnsGaps: columnsGaps,\n    containerWidth: containerWidth,\n    spacing: spacing,\n    padding: padding\n  });\n  return {\n    columnsGaps: columnsGaps,\n    columnsRatios: columnsRatios,\n    columnsModel: columnsModel\n  };\n}\nfunction computeLayout(props) {\n  var photos = props.photos,\n    layoutOptions = props.layoutOptions;\n  var columns = layoutOptions.columns,\n    spacing = layoutOptions.spacing,\n    padding = layoutOptions.padding,\n    containerWidth = layoutOptions.containerWidth;\n  var targetColumnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  var _computeColumnsModel = computeColumnsModel({\n      photos: photos,\n      layoutOptions: layoutOptions,\n      targetColumnWidth: targetColumnWidth\n    }),\n    columnsGaps = _computeColumnsModel.columnsGaps,\n    columnsRatios = _computeColumnsModel.columnsRatios,\n    columnsModel = _computeColumnsModel.columnsModel;\n  if (columnsModel.findIndex(function (columnModel) {\n    return columnModel.findIndex(function (_ref19) {\n      var _ref19$layout = _ref19.layout,\n        width = _ref19$layout.width,\n        height = _ref19$layout.height;\n      return width < 0 || height < 0;\n    }) >= 0;\n  }) >= 0) {\n    if (columns > 1) {\n      return computeLayout({\n        photos: photos,\n        layoutOptions: _objectSpread(_objectSpread({}, layoutOptions), {}, {\n          columns: columns - 1\n        })\n      });\n    }\n    return void 0;\n  }\n  return {\n    columnsModel: columnsModel,\n    columnsGaps: columnsGaps,\n    columnsRatios: columnsRatios\n  };\n}\nfunction computeColumnsLayout(_ref20) {\n  var photos = _ref20.photos,\n    layoutOptions = _ref20.layoutOptions;\n  return computeLayout({\n    photos: photos,\n    layoutOptions: layoutOptions\n  });\n}\nfunction defaultRenderColumnContainer(_ref21) {\n  var columnContainerProps = _ref21.columnContainerProps,\n    children = _ref21.children;\n  return React.createElement(\"div\", _objectSpread({}, columnContainerProps), children);\n}\nfunction cssColumnWidth(props) {\n  var layoutOptions = props.layoutOptions,\n    columnIndex = props.columnIndex,\n    columnsCount = props.columnsCount,\n    columnsGaps = props.columnsGaps,\n    columnsRatios = props.columnsRatios;\n  var layout = layoutOptions.layout,\n    spacing = layoutOptions.spacing,\n    padding = layoutOptions.padding;\n  if (layout === \"masonry\" || !columnsGaps || !columnsRatios) {\n    return \"calc((100% - \".concat(spacing * (columnsCount - 1), \"px) / \").concat(columnsCount, \")\");\n  }\n  var totalRatio = columnsRatios.reduce(function (acc, ratio2) {\n    return acc + ratio2;\n  }, 0);\n  var totalAdjustedGaps = columnsRatios.reduce(function (acc, ratio2, index) {\n    return acc + (columnsGaps[columnIndex] - columnsGaps[index]) * ratio2;\n  }, 0);\n  return \"calc((100% - \".concat(round((columnsCount - 1) * spacing + 2 * columnsCount * padding + totalAdjustedGaps, 3), \"px) * \").concat(round(columnsRatios[columnIndex] / totalRatio, 5), \" + \").concat(2 * padding, \"px)\");\n}\nfunction ColumnContainerRenderer(props) {\n  var layoutOptions = props.layoutOptions,\n    renderColumnContainer = props.renderColumnContainer,\n    children = props.children,\n    _props$columnContaine = props.columnContainerProps;\n  _props$columnContaine = _props$columnContaine === void 0 ? {} : _props$columnContaine;\n  var style = _props$columnContaine.style,\n    restColumnContainerProps = _objectWithoutProperties(_props$columnContaine, _excluded4),\n    rest = _objectWithoutProperties(props, _excluded5);\n  var columnContainerProps = _objectSpread({\n    className: \"react-photo-album--column\",\n    style: _objectSpread({\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      width: cssColumnWidth(props),\n      justifyContent: layoutOptions.layout === \"columns\" ? \"space-between\" : \"flex-start\"\n    }, style)\n  }, restColumnContainerProps);\n  return React.createElement(React.Fragment, null, (renderColumnContainer != null ? renderColumnContainer : defaultRenderColumnContainer)(_objectSpread({\n    layoutOptions: layoutOptions,\n    columnContainerProps: columnContainerProps,\n    children: children\n  }, rest)));\n}\nfunction ColumnsLayout(props) {\n  var photos = props.photos,\n    layoutOptions = props.layoutOptions,\n    renderPhoto = props.renderPhoto,\n    renderColumnContainer = props.renderColumnContainer,\n    componentsProps = props.componentsProps;\n  var columnsLayout = computeColumnsLayout({\n    photos: photos,\n    layoutOptions: layoutOptions\n  });\n  if (!columnsLayout) return null;\n  var columnsModel = columnsLayout.columnsModel,\n    columnsRatios = columnsLayout.columnsRatios,\n    columnsGaps = columnsLayout.columnsGaps;\n  return React.createElement(React.Fragment, null, columnsModel.map(function (column, columnIndex) {\n    return React.createElement(ColumnContainerRenderer, {\n      key: \"column-\".concat(columnIndex),\n      layoutOptions: layoutOptions,\n      columnIndex: columnIndex,\n      columnsCount: columnsModel.length,\n      columnsGaps: columnsGaps,\n      columnsRatios: columnsRatios,\n      renderColumnContainer: renderColumnContainer,\n      columnContainerProps: componentsProps == null ? void 0 : componentsProps.columnContainerProps\n    }, column.map(function (_ref22) {\n      var photo = _ref22.photo,\n        layout = _ref22.layout;\n      return React.createElement(PhotoRenderer, {\n        key: photo.key || photo.src,\n        photo: photo,\n        layout: layout,\n        layoutOptions: layoutOptions,\n        renderPhoto: renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      });\n    }));\n  }));\n}\nfunction computeMasonryLayout(props) {\n  var photos = props.photos,\n    layoutOptions = props.layoutOptions;\n  var columns = layoutOptions.columns,\n    spacing = layoutOptions.spacing,\n    padding = layoutOptions.padding,\n    containerWidth = layoutOptions.containerWidth;\n  var columnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  if (columnWidth <= 0) {\n    return columns > 1 ? computeMasonryLayout(_objectSpread(_objectSpread({}, props), {}, {\n      layoutOptions: _objectSpread(_objectSpread({}, layoutOptions), {}, {\n        columns: columns - 1\n      })\n    })) : void 0;\n  }\n  var columnsCurrentTopPositions = [];\n  for (var i = 0; i < columns; i += 1) {\n    columnsCurrentTopPositions[i] = 0;\n  }\n  var columnsModel = photos.reduce(function (model, photo, index) {\n    var shortestColumn = columnsCurrentTopPositions.reduce(function (currentShortestColumn, item, i) {\n      return item < columnsCurrentTopPositions[currentShortestColumn] - 1 ? i : currentShortestColumn;\n    }, 0);\n    columnsCurrentTopPositions[shortestColumn] = columnsCurrentTopPositions[shortestColumn] + columnWidth / ratio(photo) + spacing + 2 * padding;\n    model[shortestColumn].push({\n      photo: photo,\n      index: index\n    });\n    return model;\n  }, Array.from({\n    length: columns\n  }).map(function () {\n    return [];\n  }));\n  return columnsModel.map(function (column) {\n    return column.map(function (_ref23, photoIndex) {\n      var photo = _ref23.photo,\n        index = _ref23.index;\n      return {\n        photo: photo,\n        layout: {\n          width: columnWidth,\n          height: columnWidth / ratio(photo),\n          index: index,\n          photoIndex: photoIndex,\n          photosCount: column.length\n        }\n      };\n    });\n  });\n}\nfunction MasonryLayout(props) {\n  var photos = props.photos,\n    layoutOptions = props.layoutOptions,\n    renderPhoto = props.renderPhoto,\n    renderColumnContainer = props.renderColumnContainer,\n    componentsProps = props.componentsProps;\n  var masonryLayout = computeMasonryLayout({\n    photos: photos,\n    layoutOptions: layoutOptions\n  });\n  if (!masonryLayout) return null;\n  return React.createElement(React.Fragment, null, masonryLayout.map(function (column, columnIndex) {\n    return React.createElement(ColumnContainerRenderer, {\n      key: \"masonry-column-\".concat(columnIndex),\n      layoutOptions: layoutOptions,\n      columnsCount: masonryLayout.length,\n      columnIndex: columnIndex,\n      renderColumnContainer: renderColumnContainer,\n      columnContainerProps: componentsProps == null ? void 0 : componentsProps.columnContainerProps\n    }, column.map(function (_ref24) {\n      var photo = _ref24.photo,\n        layout = _ref24.layout;\n      return React.createElement(PhotoRenderer, {\n        key: photo.key || photo.src,\n        photo: photo,\n        layout: layout,\n        layoutOptions: layoutOptions,\n        renderPhoto: renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      });\n    }));\n  }));\n}\nfunction defaultRenderContainer(_ref25) {\n  var containerProps = _ref25.containerProps,\n    children = _ref25.children,\n    containerRef = _ref25.containerRef;\n  return React.createElement(\"div\", _objectSpread({\n    ref: containerRef\n  }, containerProps), children);\n}\nfunction ContainerRenderer(props) {\n  var layout = props.layout,\n    renderContainer = props.renderContainer,\n    children = props.children,\n    containerRef = props.containerRef,\n    _props$containerProps = props.containerProps;\n  _props$containerProps = _props$containerProps === void 0 ? {} : _props$containerProps;\n  var style = _props$containerProps.style,\n    restContainerProps = _objectWithoutProperties(_props$containerProps, _excluded6);\n  var containerProps = _objectSpread({\n    className: \"react-photo-album react-photo-album--\".concat(layout),\n    style: _objectSpread({\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      justifyContent: \"space-between\",\n      flexDirection: layout === \"rows\" ? \"column\" : \"row\"\n    }, style)\n  }, restContainerProps);\n  return React.createElement(React.Fragment, null, (renderContainer != null ? renderContainer : defaultRenderContainer)({\n    containerProps: containerProps,\n    containerRef: containerRef,\n    layout: layout,\n    children: children\n  }));\n}\nfunction useArray(array) {\n  var ref = React.useRef(array);\n  if (!array || !ref.current || array.join() !== ref.current.join()) {\n    ref.current = array;\n  }\n  return ref.current;\n}\nfunction containerWidthReducer(state, _ref26) {\n  var newContainerWidth = _ref26.newContainerWidth,\n    newScrollbarWidth = _ref26.newScrollbarWidth;\n  var containerWidth = state.containerWidth,\n    scrollbarWidth = state.scrollbarWidth;\n  if (containerWidth !== void 0 && scrollbarWidth !== void 0 && newContainerWidth !== void 0 && newScrollbarWidth !== void 0 && newContainerWidth > containerWidth && newContainerWidth - containerWidth <= 20 && newScrollbarWidth < scrollbarWidth) {\n    return {\n      containerWidth: containerWidth,\n      scrollbarWidth: newScrollbarWidth\n    };\n  }\n  return containerWidth !== newContainerWidth || scrollbarWidth !== newScrollbarWidth ? {\n    containerWidth: newContainerWidth,\n    scrollbarWidth: newScrollbarWidth\n  } : state;\n}\nfunction resolveContainerWidth(el, breakpoints2) {\n  var width = el == null ? void 0 : el.clientWidth;\n  if (width !== void 0 && breakpoints2 && breakpoints2.length > 0) {\n    var sorted = _toConsumableArray(breakpoints2.filter(function (x) {\n      return x > 0;\n    })).sort(function (a, b) {\n      return b - a;\n    });\n    sorted.push(Math.floor(sorted[sorted.length - 1] / 2));\n    var threshold = width;\n    width = sorted.find(function (breakpoint, index) {\n      return breakpoint <= threshold || index === sorted.length - 1;\n    });\n  }\n  return width;\n}\nfunction useContainerWidth(breakpoints2, defaultContainerWidth) {\n  var _React$useReducer = React.useReducer(containerWidthReducer, {\n      containerWidth: defaultContainerWidth\n    }),\n    _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n    containerWidth = _React$useReducer2[0].containerWidth,\n    dispatch = _React$useReducer2[1];\n  var ref = React.useRef(null);\n  var observerRef = React.useRef();\n  var containerRef = React.useCallback(function (node) {\n    var _a;\n    (_a = observerRef.current) == null ? void 0 : _a.disconnect();\n    observerRef.current = void 0;\n    ref.current = node;\n    var updateWidth = function updateWidth() {\n      return dispatch({\n        newContainerWidth: resolveContainerWidth(ref.current, breakpoints2),\n        newScrollbarWidth: window.innerWidth - document.documentElement.clientWidth\n      });\n    };\n    updateWidth();\n    if (node && typeof ResizeObserver !== \"undefined\") {\n      observerRef.current = new ResizeObserver(updateWidth);\n      observerRef.current.observe(node);\n    }\n  }, [breakpoints2]);\n  return {\n    containerRef: containerRef,\n    containerWidth: containerWidth\n  };\n}\nvar breakpoints = Object.freeze([1200, 600, 300, 0]);\nfunction unwrap(value, containerWidth) {\n  return typeof value === \"function\" ? value(containerWidth) : value;\n}\nfunction unwrapParameter(value, containerWidth) {\n  return typeof value !== \"undefined\" ? unwrap(value, containerWidth) : void 0;\n}\nfunction selectResponsiveValue(values, containerWidth) {\n  var index = breakpoints.findIndex(function (breakpoint) {\n    return breakpoint <= containerWidth;\n  });\n  return unwrap(values[index >= 0 ? index : 0], containerWidth);\n}\nfunction resolveResponsiveParameter(parameter, containerWidth, values) {\n  var minValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var value = unwrapParameter(parameter, containerWidth);\n  return Math.round(Math.max(value === void 0 ? selectResponsiveValue(values, containerWidth) : value, minValue));\n}\nfunction resolveLayoutOptions(_ref27) {\n  var layout = _ref27.layout,\n    onClick = _ref27.onClick,\n    containerWidth = _ref27.containerWidth,\n    targetRowHeight = _ref27.targetRowHeight,\n    rowConstraints = _ref27.rowConstraints,\n    columns = _ref27.columns,\n    spacing = _ref27.spacing,\n    padding = _ref27.padding,\n    sizes = _ref27.sizes;\n  return {\n    layout: layout,\n    onClick: onClick,\n    containerWidth: containerWidth,\n    columns: resolveResponsiveParameter(columns, containerWidth, [5, 4, 3, 2], 1),\n    spacing: resolveResponsiveParameter(spacing, containerWidth, [20, 15, 10, 5]),\n    padding: resolveResponsiveParameter(padding, containerWidth, [0, 0, 0, 0, 0]),\n    targetRowHeight: resolveResponsiveParameter(targetRowHeight, containerWidth, [function (w) {\n      return w / 5;\n    }, function (w) {\n      return w / 4;\n    }, function (w) {\n      return w / 3;\n    }, function (w) {\n      return w / 2;\n    }]),\n    rowConstraints: unwrapParameter(rowConstraints, containerWidth),\n    sizes: sizes\n  };\n}\nfunction resolveComponentsProps(componentsProps, containerWidth) {\n  return typeof componentsProps === \"function\" ? componentsProps(containerWidth) : componentsProps;\n}\nfunction renderLayout(props, containerWidth, componentsProps) {\n  var photos = props.photos,\n    layout = props.layout,\n    renderPhoto = props.renderPhoto,\n    renderRowContainer = props.renderRowContainer,\n    renderColumnContainer = props.renderColumnContainer;\n  var layoutOptions = resolveLayoutOptions(_objectSpread({\n    containerWidth: containerWidth\n  }, props));\n  var commonLayoutProps = {\n    photos: photos,\n    renderPhoto: renderPhoto,\n    componentsProps: componentsProps\n  };\n  if (layout === \"rows\") {\n    return React.createElement(RowsLayout, _objectSpread({\n      layoutOptions: layoutOptions,\n      renderRowContainer: renderRowContainer\n    }, commonLayoutProps));\n  }\n  if (layout === \"columns\") {\n    return React.createElement(ColumnsLayout, _objectSpread({\n      layoutOptions: layoutOptions,\n      renderColumnContainer: renderColumnContainer\n    }, commonLayoutProps));\n  }\n  return React.createElement(MasonryLayout, _objectSpread({\n    layoutOptions: layoutOptions,\n    renderColumnContainer: renderColumnContainer\n  }, commonLayoutProps));\n}\nfunction PhotoAlbum(props) {\n  var photos = props.photos,\n    layout = props.layout,\n    renderContainer = props.renderContainer,\n    defaultContainerWidth = props.defaultContainerWidth,\n    breakpoints2 = props.breakpoints;\n  var _useContainerWidth = useContainerWidth(useArray(breakpoints2), defaultContainerWidth),\n    containerRef = _useContainerWidth.containerRef,\n    containerWidth = _useContainerWidth.containerWidth;\n  if (!layout || ![\"rows\", \"columns\", \"masonry\"].includes(layout) || !Array.isArray(photos)) return null;\n  var componentsProps = resolveComponentsProps(props.componentsProps, containerWidth);\n  return React.createElement(ContainerRenderer, {\n    layout: layout,\n    containerRef: containerRef,\n    renderContainer: renderContainer,\n    containerProps: componentsProps == null ? void 0 : componentsProps.containerProps\n  }, containerWidth ? renderLayout(props, containerWidth, componentsProps) : null);\n}\nexport { PhotoAlbum, PhotoAlbum as default };","map":{"version":3,"names":["_slicedToArray","_toConsumableArray","_objectSpread","_objectWithoutProperties","_classCallCheck","_createClass","_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","React","ratio","_ref","width","height","round","value","decimals","arguments","length","undefined","factor","Math","pow","Number","EPSILON","rankingFunctionComparator","rank","a","b","MinHeap","comparator","heap","n","key","greater","i","j","swap","temp","swim","k","k2","floor","sink","push","element","pop","max","size","buildPrecedentsMap","graph","startNode","endNode","precedentsMap","Map","visited","Set","storedShortestPaths","set","queue","el","weight","id","_loop","_queue$pop","has","neighboringNodes","add","forEach","neighborWeight","neighbor","newWeight","currentId","get","currentWeight","getPathFromPrecedentsMap","nodes","node","reverse","findShortestPath","findIdealNodeSearch","_ref2","photos","targetRowHeight","containerWidth","minRatio","reduce","acc","photo","min","MAX_VALUE","getCommonHeight","row","spacing","padding","rowWidth","totalAspectRatio","cost","slice","commonHeight","makeGetRowNeighbors","_ref3","layoutOptions","limitNodeSearch","rowConstraints","_a","_b","results","startOffset","minPhotos","endOffset","maxPhotos","Infinity","currentCost","computeRowsLayout","_ref4","getNeighbors","path","layout","_loop2","map","index","_ref5","_ref6","photoIndex","photosCount","calcWidth","base","_ref7","_ref8","gaps","concat","cssPhotoWidth","calculateSizesValue","match","srcSetAndSizes","srcSet","sizes","images","find","_ref9","src","sort","first","second","image","join","_ref10","viewport","ceil","PhotoRenderer","props","_props$imageProps","imageProps","style","restImageProps","renderPhoto","onClick","imageStyle","display","boxSizing","aspectRatio","marginBottom","cursor","handleClick","event","alt","title","className","loading","decoding","renderDefaultPhoto","options","unwrappedStyle","rest","createElement","wrapped","wrapperStyle","_ref11","Fragment","defaultRenderRowContainer","_ref12","rowContainerProps","children","RowContainerRenderer","rowIndex","rowsCount","renderRowContainer","_props$rowContainerPr","restRowContainerProps","flexDirection","flexWrap","alignItems","justifyContent","RowsLayout","componentsProps","rowsLayout","_ref13","computeShortestPath","pathLength","matrix","_loop3","currentQueue","keys","clear","accumulatedWeight","_ref14","paths","nextPath","reconstructShortestPath","findShortestPathLengthN","makeGetColumnNeighbors","_ref15","targetColumnWidth","targetColumnHeight","cutOffHeight","buildColumnsModel","_ref16","columnsGaps","columnsRatios","columnsModel","totalRatio","total","columnRatio","_loop4","column","totalAdjustedGaps","columnWidth","_ref17","computeColumnsModel","_ref18","columns","averageRatio","columnsModel2","Array","from","_","computeLayout","_computeColumnsModel","findIndex","columnModel","_ref19","_ref19$layout","computeColumnsLayout","_ref20","defaultRenderColumnContainer","_ref21","columnContainerProps","cssColumnWidth","columnIndex","columnsCount","ratio2","ColumnContainerRenderer","renderColumnContainer","_props$columnContaine","restColumnContainerProps","ColumnsLayout","columnsLayout","_ref22","computeMasonryLayout","columnsCurrentTopPositions","model","shortestColumn","currentShortestColumn","item","_ref23","MasonryLayout","masonryLayout","_ref24","defaultRenderContainer","_ref25","containerProps","containerRef","ref","ContainerRenderer","renderContainer","_props$containerProps","restContainerProps","useArray","array","useRef","current","containerWidthReducer","state","_ref26","newContainerWidth","newScrollbarWidth","scrollbarWidth","resolveContainerWidth","breakpoints2","clientWidth","sorted","filter","x","threshold","breakpoint","useContainerWidth","defaultContainerWidth","_React$useReducer","useReducer","_React$useReducer2","dispatch","observerRef","useCallback","disconnect","updateWidth","window","innerWidth","document","documentElement","ResizeObserver","observe","breakpoints","Object","freeze","unwrap","unwrapParameter","selectResponsiveValue","values","resolveResponsiveParameter","parameter","minValue","resolveLayoutOptions","_ref27","w","resolveComponentsProps","renderLayout","commonLayoutProps","PhotoAlbum","_useContainerWidth","includes","isArray","default"],"sources":["/Users/josephxu/Desktop/ps_test/personal-site/node_modules/react-photo-album/dist/index.mjs"],"sourcesContent":["\"use client\";\nimport * as React from \"react\";\nfunction ratio({ width, height }) {\n  return width / height;\n}\nfunction round(value, decimals = 0) {\n  const factor = 10 ** decimals;\n  return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction rankingFunctionComparator(rank) {\n  return (a, b) => rank(b) - rank(a);\n}\nclass MinHeap {\n  constructor(comparator) {\n    this.comparator = comparator;\n    this.heap = [];\n    this.n = 0;\n  }\n  greater(i, j) {\n    return this.comparator(this.heap[i], this.heap[j]) < 0;\n  }\n  swap(i, j) {\n    const temp = this.heap[i];\n    this.heap[i] = this.heap[j];\n    this.heap[j] = temp;\n  }\n  swim(i) {\n    let k = i;\n    let k2 = Math.floor(k / 2);\n    while (k > 1 && this.greater(k2, k)) {\n      this.swap(k2, k);\n      k = k2;\n      k2 = Math.floor(k / 2);\n    }\n  }\n  sink(i) {\n    let k = i;\n    let k2 = k * 2;\n    while (k2 <= this.n) {\n      if (k2 < this.n && this.greater(k2, k2 + 1))\n        k2 += 1;\n      if (!this.greater(k, k2))\n        break;\n      this.swap(k, k2);\n      k = k2;\n      k2 = k * 2;\n    }\n  }\n  push(element) {\n    this.n += 1;\n    this.heap[this.n] = element;\n    this.swim(this.n);\n  }\n  pop() {\n    if (this.n === 0)\n      return void 0;\n    this.swap(1, this.n);\n    this.n -= 1;\n    const max = this.heap.pop();\n    this.sink(1);\n    return max;\n  }\n  size() {\n    return this.n;\n  }\n}\nfunction buildPrecedentsMap(graph, startNode, endNode) {\n  const precedentsMap = /* @__PURE__ */ new Map();\n  const visited = /* @__PURE__ */ new Set();\n  const storedShortestPaths = /* @__PURE__ */ new Map();\n  storedShortestPaths.set(startNode, 0);\n  const queue = new MinHeap(rankingFunctionComparator((el) => el.weight));\n  queue.push({ id: startNode, weight: 0 });\n  while (queue.size() > 0) {\n    const { id, weight } = queue.pop();\n    if (!visited.has(id)) {\n      const neighboringNodes = graph(id);\n      visited.add(id);\n      neighboringNodes.forEach((neighborWeight, neighbor) => {\n        const newWeight = weight + neighborWeight;\n        const currentId = precedentsMap.get(neighbor);\n        const currentWeight = storedShortestPaths.get(neighbor);\n        if (currentWeight === void 0 || currentWeight > newWeight && (currentWeight / newWeight > 1.005 || currentId !== void 0 && currentId < id)) {\n          storedShortestPaths.set(neighbor, newWeight);\n          queue.push({ id: neighbor, weight: newWeight });\n          precedentsMap.set(neighbor, id);\n        }\n      });\n    }\n  }\n  return storedShortestPaths.has(endNode) ? precedentsMap : void 0;\n}\nfunction getPathFromPrecedentsMap(precedentsMap, endNode) {\n  const nodes = [];\n  for (let node = endNode; node !== void 0; node = precedentsMap.get(node)) {\n    nodes.push(node);\n  }\n  return nodes.reverse();\n}\nfunction findShortestPath(graph, startNode, endNode) {\n  const precedentsMap = buildPrecedentsMap(graph, startNode, endNode);\n  return precedentsMap ? getPathFromPrecedentsMap(precedentsMap, endNode) : void 0;\n}\nfunction findIdealNodeSearch({\n  photos,\n  targetRowHeight,\n  containerWidth\n}) {\n  const minRatio = photos.reduce((acc, photo) => Math.min(ratio(photo), acc), Number.MAX_VALUE);\n  return round(containerWidth / targetRowHeight / minRatio) + 2;\n}\nfunction getCommonHeight(row, containerWidth, spacing, padding) {\n  const rowWidth = containerWidth - (row.length - 1) * spacing - 2 * padding * row.length;\n  const totalAspectRatio = row.reduce((acc, photo) => acc + ratio(photo), 0);\n  return rowWidth / totalAspectRatio;\n}\nfunction cost(photos, i, j, width, targetRowHeight, spacing, padding) {\n  const row = photos.slice(i, j);\n  const commonHeight = getCommonHeight(row, width, spacing, padding);\n  return commonHeight > 0 ? (commonHeight - targetRowHeight) ** 2 * row.length : void 0;\n}\nfunction makeGetRowNeighbors({\n  photos,\n  layoutOptions,\n  targetRowHeight,\n  limitNodeSearch,\n  rowConstraints\n}) {\n  return (node) => {\n    var _a, _b;\n    const { containerWidth, spacing, padding } = layoutOptions;\n    const results = /* @__PURE__ */ new Map();\n    results.set(node, 0);\n    const startOffset = (_a = rowConstraints == null ? void 0 : rowConstraints.minPhotos) != null ? _a : 1;\n    const endOffset = Math.min(limitNodeSearch, (_b = rowConstraints == null ? void 0 : rowConstraints.maxPhotos) != null ? _b : Infinity);\n    for (let i = node + startOffset; i < photos.length + 1; i += 1) {\n      if (i - node > endOffset)\n        break;\n      const currentCost = cost(photos, node, i, containerWidth, targetRowHeight, spacing, padding);\n      if (currentCost === void 0)\n        break;\n      results.set(i, currentCost);\n    }\n    return results;\n  };\n}\nfunction computeRowsLayout({\n  photos,\n  layoutOptions\n}) {\n  const { spacing, padding, containerWidth, targetRowHeight, rowConstraints } = layoutOptions;\n  const limitNodeSearch = findIdealNodeSearch({ photos, containerWidth, targetRowHeight });\n  const getNeighbors = makeGetRowNeighbors({\n    photos,\n    layoutOptions,\n    targetRowHeight,\n    limitNodeSearch,\n    rowConstraints\n  });\n  const path = findShortestPath(getNeighbors, 0, photos.length);\n  if (path === void 0)\n    return void 0;\n  const layout = [];\n  for (let i = 1; i < path.length; i += 1) {\n    const row = photos.map((photo, index) => ({ photo, index })).slice(path[i - 1], path[i]);\n    const height = getCommonHeight(\n      row.map(({ photo }) => photo),\n      containerWidth,\n      spacing,\n      padding\n    );\n    layout.push(\n      row.map(({ photo, index }, photoIndex) => ({\n        photo,\n        layout: {\n          height,\n          width: height * ratio(photo),\n          index,\n          photoIndex,\n          photosCount: row.length\n        }\n      }))\n    );\n  }\n  return layout;\n}\nfunction calcWidth(base, { width, photosCount }, { spacing, padding, containerWidth }) {\n  const gaps = spacing * (photosCount - 1) + 2 * padding * photosCount;\n  return `calc((${base} - ${gaps}px) / ${round((containerWidth - gaps) / width, 5)})`;\n}\nfunction cssPhotoWidth(layout, layoutOptions) {\n  return layoutOptions.layout !== \"rows\" ? `calc(100% - ${2 * layoutOptions.padding}px)` : calcWidth(\"100%\", layout, layoutOptions);\n}\nfunction calculateSizesValue(size, layout, layoutOptions) {\n  var _a, _b;\n  return calcWidth((_b = (_a = size.match(/calc\\((.*)\\)/)) == null ? void 0 : _a[1]) != null ? _b : size, layout, layoutOptions);\n}\nfunction srcSetAndSizes(photo, layout, layoutOptions) {\n  let srcSet;\n  let sizes;\n  const images = photo.srcSet || photo.images;\n  if (images && images.length > 0) {\n    srcSet = images.concat(\n      !images.find(({ width }) => width === photo.width) ? [{ src: photo.src, width: photo.width, height: photo.height }] : []\n    ).sort((first, second) => first.width - second.width).map((image) => `${image.src} ${image.width}w`).join(\", \");\n  }\n  if (layoutOptions.sizes) {\n    sizes = (layoutOptions.sizes.sizes || []).map(({ viewport, size }) => `${viewport} ${calculateSizesValue(size, layout, layoutOptions)}`).concat(calculateSizesValue(layoutOptions.sizes.size, layout, layoutOptions)).join(\", \");\n  } else if (srcSet) {\n    sizes = `${Math.ceil(layout.width / layoutOptions.containerWidth * 100)}vw`;\n  }\n  return { srcSet, sizes };\n}\nfunction PhotoRenderer(props) {\n  var _a, _b;\n  const { photo, layout, layoutOptions, imageProps: { style, ...restImageProps } = {}, renderPhoto } = props;\n  const { onClick } = layoutOptions;\n  const imageStyle = {\n    display: \"block\",\n    boxSizing: \"content-box\",\n    width: cssPhotoWidth(layout, layoutOptions),\n    height: \"auto\",\n    aspectRatio: `${photo.width} / ${photo.height}`,\n    ...layoutOptions.padding ? { padding: `${layoutOptions.padding}px` } : null,\n    ...(layoutOptions.layout === \"columns\" || layoutOptions.layout === \"masonry\") && layout.photoIndex < layout.photosCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null,\n    ...onClick ? { cursor: \"pointer\" } : null,\n    ...style\n  };\n  const handleClick = onClick ? (event) => {\n    onClick({ event, photo, index: layout.index });\n  } : void 0;\n  const imageProps = {\n    src: photo.src,\n    alt: (_a = photo.alt) != null ? _a : \"\",\n    title: photo.title,\n    onClick: handleClick,\n    style: imageStyle,\n    className: \"react-photo-album--photo\",\n    loading: \"lazy\",\n    decoding: \"async\",\n    ...srcSetAndSizes(photo, layout, layoutOptions),\n    ...restImageProps\n  };\n  const renderDefaultPhoto = (options) => {\n    const { src, alt, srcSet, sizes, style: unwrappedStyle, ...rest } = imageProps;\n    return React.createElement(\n      \"img\",\n      {\n        alt,\n        ...srcSet ? { srcSet, sizes } : null,\n        src,\n        style: (options == null ? void 0 : options.wrapped) ? { display: \"block\", width: \"100%\", height: \"100%\" } : unwrappedStyle,\n        ...rest\n      }\n    );\n  };\n  const wrapperStyle = (({ display, boxSizing, width, aspectRatio, padding, marginBottom, cursor }) => ({\n    display,\n    boxSizing,\n    width,\n    aspectRatio,\n    padding,\n    marginBottom,\n    cursor\n  }))(imageStyle);\n  return React.createElement(React.Fragment, null, (_b = renderPhoto == null ? void 0 : renderPhoto({\n    photo,\n    layout,\n    layoutOptions,\n    imageProps,\n    renderDefaultPhoto,\n    wrapperStyle\n  })) != null ? _b : renderDefaultPhoto());\n}\nfunction defaultRenderRowContainer({\n  rowContainerProps,\n  children\n}) {\n  return React.createElement(\"div\", { ...rowContainerProps }, children);\n}\nfunction RowContainerRenderer(props) {\n  const {\n    layoutOptions,\n    rowIndex,\n    rowsCount,\n    renderRowContainer,\n    rowContainerProps: { style, ...restRowContainerProps } = {},\n    children\n  } = props;\n  const rowContainerProps = {\n    className: \"react-photo-album--row\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      justifyContent: \"space-between\",\n      ...rowIndex < rowsCount - 1 ? { marginBottom: `${layoutOptions.spacing}px` } : null,\n      ...style\n    },\n    ...restRowContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderRowContainer != null ? renderRowContainer : defaultRenderRowContainer)({\n    layoutOptions,\n    rowIndex,\n    rowsCount,\n    rowContainerProps,\n    children\n  }));\n}\nfunction RowsLayout(props) {\n  const { photos, layoutOptions, renderPhoto, renderRowContainer, componentsProps } = props;\n  const rowsLayout = computeRowsLayout({ photos, layoutOptions });\n  if (!rowsLayout)\n    return null;\n  return React.createElement(React.Fragment, null, rowsLayout.map((row, rowIndex) => React.createElement(\n    RowContainerRenderer,\n    {\n      key: `row-${rowIndex}`,\n      layoutOptions,\n      rowIndex,\n      rowsCount: rowsLayout.length,\n      renderRowContainer,\n      rowContainerProps: componentsProps == null ? void 0 : componentsProps.rowContainerProps\n    },\n    row.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      }\n    ))\n  )));\n}\nfunction computeShortestPath(graph, pathLength, startNode, endNode) {\n  const matrix = /* @__PURE__ */ new Map();\n  const queue = /* @__PURE__ */ new Set();\n  queue.add(startNode);\n  for (let length = 0; length < pathLength; length += 1) {\n    const currentQueue = [...queue.keys()];\n    queue.clear();\n    currentQueue.forEach((node) => {\n      const accumulatedWeight = length > 0 ? matrix.get(node)[length].weight : 0;\n      graph(node).forEach(({ neighbor, weight }) => {\n        let paths = matrix.get(neighbor);\n        if (!paths) {\n          paths = [];\n          matrix.set(neighbor, paths);\n        }\n        const newWeight = accumulatedWeight + weight;\n        const nextPath = paths[length + 1];\n        if (!nextPath || nextPath.weight > newWeight && (nextPath.weight / newWeight > 1.0001 || node < nextPath.node)) {\n          paths[length + 1] = { node, weight: newWeight };\n        }\n        if (length < pathLength - 1 && neighbor !== endNode) {\n          queue.add(neighbor);\n        }\n      });\n    });\n  }\n  return matrix;\n}\nfunction reconstructShortestPath(matrix, pathLength, endNode) {\n  const path = [endNode];\n  for (let node = endNode, length = pathLength; length > 0; length -= 1) {\n    node = matrix.get(node)[length].node;\n    path.push(node);\n  }\n  return path.reverse();\n}\nfunction findShortestPathLengthN(graph, pathLength, startNode, endNode) {\n  return reconstructShortestPath(computeShortestPath(graph, pathLength, startNode, endNode), pathLength, endNode);\n}\nfunction makeGetColumnNeighbors({\n  photos,\n  spacing,\n  padding,\n  targetColumnWidth,\n  targetColumnHeight\n}) {\n  return (node) => {\n    const results = [];\n    const cutOffHeight = targetColumnHeight * 1.5;\n    let height = targetColumnWidth / ratio(photos[node]) + 2 * padding;\n    for (let i = node + 1; i < photos.length + 1; i += 1) {\n      results.push({ neighbor: i, weight: (targetColumnHeight - height) ** 2 });\n      if (height > cutOffHeight || i === photos.length) {\n        break;\n      }\n      height += targetColumnWidth / ratio(photos[i]) + spacing + 2 * padding;\n    }\n    return results;\n  };\n}\nfunction buildColumnsModel({\n  path,\n  photos,\n  containerWidth,\n  columnsGaps,\n  columnsRatios,\n  spacing,\n  padding\n}) {\n  const columnsModel = [];\n  const totalRatio = columnsRatios.reduce((total, columnRatio) => total + columnRatio, 0);\n  for (let i = 0; i < path.length - 1; i += 1) {\n    const column = photos.map((photo, index) => ({ photo, index })).slice(path[i], path[i + 1]);\n    const totalAdjustedGaps = columnsRatios.reduce(\n      (total, columnRatio, index) => total + (columnsGaps[i] - columnsGaps[index]) * columnRatio,\n      0\n    );\n    const columnWidth = (containerWidth - (path.length - 2) * spacing - 2 * (path.length - 1) * padding - totalAdjustedGaps) * columnsRatios[i] / totalRatio;\n    columnsModel.push(\n      column.map(({ photo, index }, photoIndex) => ({\n        photo,\n        layout: {\n          width: columnWidth,\n          height: columnWidth / ratio(photo),\n          index,\n          photoIndex,\n          photosCount: column.length\n        }\n      }))\n    );\n  }\n  return columnsModel;\n}\nfunction computeColumnsModel({\n  photos,\n  layoutOptions,\n  targetColumnWidth\n}) {\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const columnsGaps = [];\n  const columnsRatios = [];\n  if (photos.length <= columns) {\n    const averageRatio = photos.length > 0 ? photos.reduce((acc, photo) => acc + ratio(photo), 0) / photos.length : 1;\n    for (let i = 0; i < columns; i += 1) {\n      columnsGaps[i] = 2 * padding;\n      columnsRatios[i] = i < photos.length ? ratio(photos[i]) : averageRatio;\n    }\n    const columnsModel2 = buildColumnsModel({\n      path: Array.from({ length: columns + 1 }).map((_, index) => Math.min(index, photos.length)),\n      photos,\n      columnsRatios,\n      columnsGaps,\n      containerWidth,\n      spacing,\n      padding\n    });\n    return { columnsGaps, columnsRatios, columnsModel: columnsModel2 };\n  }\n  const targetColumnHeight = (photos.reduce((acc, photo) => acc + targetColumnWidth / ratio(photo), 0) + spacing * (photos.length - columns) + 2 * padding * photos.length) / columns;\n  const getNeighbors = makeGetColumnNeighbors({\n    photos,\n    targetColumnWidth,\n    targetColumnHeight,\n    spacing,\n    padding\n  });\n  const path = findShortestPathLengthN(getNeighbors, columns, 0, photos.length);\n  for (let i = 0; i < path.length - 1; i += 1) {\n    const column = photos.slice(path[i], path[i + 1]);\n    columnsGaps[i] = spacing * (column.length - 1) + 2 * padding * column.length;\n    columnsRatios[i] = 1 / column.reduce((acc, photo) => acc + 1 / ratio(photo), 0);\n  }\n  const columnsModel = buildColumnsModel({\n    path,\n    photos,\n    columnsRatios,\n    columnsGaps,\n    containerWidth,\n    spacing,\n    padding\n  });\n  return { columnsGaps, columnsRatios, columnsModel };\n}\nfunction computeLayout(props) {\n  const { photos, layoutOptions } = props;\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const targetColumnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  const { columnsGaps, columnsRatios, columnsModel } = computeColumnsModel({\n    photos,\n    layoutOptions,\n    targetColumnWidth\n  });\n  if (columnsModel.findIndex(\n    (columnModel) => columnModel.findIndex(({ layout: { width, height } }) => width < 0 || height < 0) >= 0\n  ) >= 0) {\n    if (columns > 1) {\n      return computeLayout({ photos, layoutOptions: { ...layoutOptions, columns: columns - 1 } });\n    }\n    return void 0;\n  }\n  return { columnsModel, columnsGaps, columnsRatios };\n}\nfunction computeColumnsLayout({\n  photos,\n  layoutOptions\n}) {\n  return computeLayout({ photos, layoutOptions });\n}\nfunction defaultRenderColumnContainer({\n  columnContainerProps,\n  children\n}) {\n  return React.createElement(\"div\", { ...columnContainerProps }, children);\n}\nfunction cssColumnWidth(props) {\n  const { layoutOptions, columnIndex, columnsCount, columnsGaps, columnsRatios } = props;\n  const { layout, spacing, padding } = layoutOptions;\n  if (layout === \"masonry\" || !columnsGaps || !columnsRatios) {\n    return `calc((100% - ${spacing * (columnsCount - 1)}px) / ${columnsCount})`;\n  }\n  const totalRatio = columnsRatios.reduce((acc, ratio2) => acc + ratio2, 0);\n  const totalAdjustedGaps = columnsRatios.reduce(\n    (acc, ratio2, index) => acc + (columnsGaps[columnIndex] - columnsGaps[index]) * ratio2,\n    0\n  );\n  return `calc((100% - ${round(\n    (columnsCount - 1) * spacing + 2 * columnsCount * padding + totalAdjustedGaps,\n    3\n  )}px) * ${round(columnsRatios[columnIndex] / totalRatio, 5)} + ${2 * padding}px)`;\n}\nfunction ColumnContainerRenderer(props) {\n  const {\n    layoutOptions,\n    renderColumnContainer,\n    children,\n    columnContainerProps: { style, ...restColumnContainerProps } = {},\n    ...rest\n  } = props;\n  const columnContainerProps = {\n    className: \"react-photo-album--column\",\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flexWrap: \"nowrap\",\n      alignItems: \"flex-start\",\n      width: cssColumnWidth(props),\n      justifyContent: layoutOptions.layout === \"columns\" ? \"space-between\" : \"flex-start\",\n      ...style\n    },\n    ...restColumnContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderColumnContainer != null ? renderColumnContainer : defaultRenderColumnContainer)({\n    layoutOptions,\n    columnContainerProps,\n    children,\n    ...rest\n  }));\n}\nfunction ColumnsLayout(props) {\n  const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps } = props;\n  const columnsLayout = computeColumnsLayout({ photos, layoutOptions });\n  if (!columnsLayout)\n    return null;\n  const { columnsModel, columnsRatios, columnsGaps } = columnsLayout;\n  return React.createElement(React.Fragment, null, columnsModel.map((column, columnIndex) => React.createElement(\n    ColumnContainerRenderer,\n    {\n      key: `column-${columnIndex}`,\n      layoutOptions,\n      columnIndex,\n      columnsCount: columnsModel.length,\n      columnsGaps,\n      columnsRatios,\n      renderColumnContainer,\n      columnContainerProps: componentsProps == null ? void 0 : componentsProps.columnContainerProps\n    },\n    column.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      }\n    ))\n  )));\n}\nfunction computeMasonryLayout(props) {\n  const { photos, layoutOptions } = props;\n  const { columns, spacing, padding, containerWidth } = layoutOptions;\n  const columnWidth = (containerWidth - spacing * (columns - 1) - 2 * padding * columns) / columns;\n  if (columnWidth <= 0) {\n    return columns > 1 ? computeMasonryLayout({\n      ...props,\n      layoutOptions: { ...layoutOptions, columns: columns - 1 }\n    }) : void 0;\n  }\n  const columnsCurrentTopPositions = [];\n  for (let i = 0; i < columns; i += 1) {\n    columnsCurrentTopPositions[i] = 0;\n  }\n  const columnsModel = photos.reduce(\n    (model, photo, index) => {\n      const shortestColumn = columnsCurrentTopPositions.reduce(\n        (currentShortestColumn, item, i) => item < columnsCurrentTopPositions[currentShortestColumn] - 1 ? i : currentShortestColumn,\n        0\n      );\n      columnsCurrentTopPositions[shortestColumn] = columnsCurrentTopPositions[shortestColumn] + columnWidth / ratio(photo) + spacing + 2 * padding;\n      model[shortestColumn].push({ photo, index });\n      return model;\n    },\n    Array.from({ length: columns }).map(() => [])\n  );\n  return columnsModel.map(\n    (column) => column.map(({ photo, index }, photoIndex) => ({\n      photo,\n      layout: {\n        width: columnWidth,\n        height: columnWidth / ratio(photo),\n        index,\n        photoIndex,\n        photosCount: column.length\n      }\n    }))\n  );\n}\nfunction MasonryLayout(props) {\n  const { photos, layoutOptions, renderPhoto, renderColumnContainer, componentsProps } = props;\n  const masonryLayout = computeMasonryLayout({ photos, layoutOptions });\n  if (!masonryLayout)\n    return null;\n  return React.createElement(React.Fragment, null, masonryLayout.map((column, columnIndex) => React.createElement(\n    ColumnContainerRenderer,\n    {\n      key: `masonry-column-${columnIndex}`,\n      layoutOptions,\n      columnsCount: masonryLayout.length,\n      columnIndex,\n      renderColumnContainer,\n      columnContainerProps: componentsProps == null ? void 0 : componentsProps.columnContainerProps\n    },\n    column.map(({ photo, layout }) => React.createElement(\n      PhotoRenderer,\n      {\n        key: photo.key || photo.src,\n        photo,\n        layout,\n        layoutOptions,\n        renderPhoto,\n        imageProps: componentsProps == null ? void 0 : componentsProps.imageProps\n      }\n    ))\n  )));\n}\nfunction defaultRenderContainer({ containerProps, children, containerRef }) {\n  return React.createElement(\"div\", { ref: containerRef, ...containerProps }, children);\n}\nfunction ContainerRenderer(props) {\n  const {\n    layout,\n    renderContainer,\n    children,\n    containerRef,\n    containerProps: { style, ...restContainerProps } = {}\n  } = props;\n  const containerProps = {\n    className: `react-photo-album react-photo-album--${layout}`,\n    style: {\n      display: \"flex\",\n      flexWrap: \"nowrap\",\n      justifyContent: \"space-between\",\n      flexDirection: layout === \"rows\" ? \"column\" : \"row\",\n      ...style\n    },\n    ...restContainerProps\n  };\n  return React.createElement(React.Fragment, null, (renderContainer != null ? renderContainer : defaultRenderContainer)({\n    containerProps,\n    containerRef,\n    layout,\n    children\n  }));\n}\nfunction useArray(array) {\n  const ref = React.useRef(array);\n  if (!array || !ref.current || array.join() !== ref.current.join()) {\n    ref.current = array;\n  }\n  return ref.current;\n}\nfunction containerWidthReducer(state, { newContainerWidth, newScrollbarWidth }) {\n  const { containerWidth, scrollbarWidth } = state;\n  if (containerWidth !== void 0 && scrollbarWidth !== void 0 && newContainerWidth !== void 0 && newScrollbarWidth !== void 0 && newContainerWidth > containerWidth && newContainerWidth - containerWidth <= 20 && newScrollbarWidth < scrollbarWidth) {\n    return { containerWidth, scrollbarWidth: newScrollbarWidth };\n  }\n  return containerWidth !== newContainerWidth || scrollbarWidth !== newScrollbarWidth ? { containerWidth: newContainerWidth, scrollbarWidth: newScrollbarWidth } : state;\n}\nfunction resolveContainerWidth(el, breakpoints2) {\n  let width = el == null ? void 0 : el.clientWidth;\n  if (width !== void 0 && breakpoints2 && breakpoints2.length > 0) {\n    const sorted = [...breakpoints2.filter((x) => x > 0)].sort((a, b) => b - a);\n    sorted.push(Math.floor(sorted[sorted.length - 1] / 2));\n    const threshold = width;\n    width = sorted.find((breakpoint, index) => breakpoint <= threshold || index === sorted.length - 1);\n  }\n  return width;\n}\nfunction useContainerWidth(breakpoints2, defaultContainerWidth) {\n  const [{ containerWidth }, dispatch] = React.useReducer(containerWidthReducer, {\n    containerWidth: defaultContainerWidth\n  });\n  const ref = React.useRef(null);\n  const observerRef = React.useRef();\n  const containerRef = React.useCallback(\n    (node) => {\n      var _a;\n      (_a = observerRef.current) == null ? void 0 : _a.disconnect();\n      observerRef.current = void 0;\n      ref.current = node;\n      const updateWidth = () => dispatch({\n        newContainerWidth: resolveContainerWidth(ref.current, breakpoints2),\n        newScrollbarWidth: window.innerWidth - document.documentElement.clientWidth\n      });\n      updateWidth();\n      if (node && typeof ResizeObserver !== \"undefined\") {\n        observerRef.current = new ResizeObserver(updateWidth);\n        observerRef.current.observe(node);\n      }\n    },\n    [breakpoints2]\n  );\n  return { containerRef, containerWidth };\n}\nconst breakpoints = Object.freeze([1200, 600, 300, 0]);\nfunction unwrap(value, containerWidth) {\n  return typeof value === \"function\" ? value(containerWidth) : value;\n}\nfunction unwrapParameter(value, containerWidth) {\n  return typeof value !== \"undefined\" ? unwrap(value, containerWidth) : void 0;\n}\nfunction selectResponsiveValue(values, containerWidth) {\n  const index = breakpoints.findIndex((breakpoint) => breakpoint <= containerWidth);\n  return unwrap(values[index >= 0 ? index : 0], containerWidth);\n}\nfunction resolveResponsiveParameter(parameter, containerWidth, values, minValue = 0) {\n  const value = unwrapParameter(parameter, containerWidth);\n  return Math.round(Math.max(value === void 0 ? selectResponsiveValue(values, containerWidth) : value, minValue));\n}\nfunction resolveLayoutOptions({\n  layout,\n  onClick,\n  containerWidth,\n  targetRowHeight,\n  rowConstraints,\n  columns,\n  spacing,\n  padding,\n  sizes\n}) {\n  return {\n    layout,\n    onClick,\n    containerWidth,\n    columns: resolveResponsiveParameter(columns, containerWidth, [5, 4, 3, 2], 1),\n    spacing: resolveResponsiveParameter(spacing, containerWidth, [20, 15, 10, 5]),\n    padding: resolveResponsiveParameter(padding, containerWidth, [0, 0, 0, 0, 0]),\n    targetRowHeight: resolveResponsiveParameter(targetRowHeight, containerWidth, [\n      (w) => w / 5,\n      (w) => w / 4,\n      (w) => w / 3,\n      (w) => w / 2\n    ]),\n    rowConstraints: unwrapParameter(rowConstraints, containerWidth),\n    sizes\n  };\n}\nfunction resolveComponentsProps(componentsProps, containerWidth) {\n  return typeof componentsProps === \"function\" ? componentsProps(containerWidth) : componentsProps;\n}\nfunction renderLayout(props, containerWidth, componentsProps) {\n  const { photos, layout, renderPhoto, renderRowContainer, renderColumnContainer } = props;\n  const layoutOptions = resolveLayoutOptions({ containerWidth, ...props });\n  const commonLayoutProps = { photos, renderPhoto, componentsProps };\n  if (layout === \"rows\") {\n    return React.createElement(\n      RowsLayout,\n      {\n        layoutOptions,\n        renderRowContainer,\n        ...commonLayoutProps\n      }\n    );\n  }\n  if (layout === \"columns\") {\n    return React.createElement(\n      ColumnsLayout,\n      {\n        layoutOptions,\n        renderColumnContainer,\n        ...commonLayoutProps\n      }\n    );\n  }\n  return React.createElement(\n    MasonryLayout,\n    {\n      layoutOptions,\n      renderColumnContainer,\n      ...commonLayoutProps\n    }\n  );\n}\nfunction PhotoAlbum(props) {\n  const { photos, layout, renderContainer, defaultContainerWidth, breakpoints: breakpoints2 } = props;\n  const { containerRef, containerWidth } = useContainerWidth(useArray(breakpoints2), defaultContainerWidth);\n  if (!layout || ![\"rows\", \"columns\", \"masonry\"].includes(layout) || !Array.isArray(photos))\n    return null;\n  const componentsProps = resolveComponentsProps(props.componentsProps, containerWidth);\n  return React.createElement(\n    ContainerRenderer,\n    {\n      layout,\n      containerRef,\n      renderContainer,\n      containerProps: componentsProps == null ? void 0 : componentsProps.containerProps\n    },\n    containerWidth ? renderLayout(props, containerWidth, componentsProps) : null\n  );\n}\nexport {\n  PhotoAlbum,\n  PhotoAlbum as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}